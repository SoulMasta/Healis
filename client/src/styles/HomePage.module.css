.page {
  min-height: calc(100vh - var(--safe-top) - var(--safe-bottom));
  display: flex;
  flex-direction: column;
}

.topbar {
  height: 64px;
  padding: calc(10px + var(--safe-top)) 16px 10px;
  display: grid;
  grid-template-columns: 260px 1fr 260px;
  align-items: center;
  gap: 16px;
  background: var(--panel);
  border-bottom: 1px solid rgba(15, 23, 42, 0.08);
}

.brand {
  display: flex;
  align-items: center;
  gap: 12px;
}

.logo {
  width: 34px;
  height: 34px;
  border-radius: 10px;
  background: linear-gradient(135deg, var(--blue) 0%, #7c3aed 100%);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 900;
}

.brandName {
  font-weight: 900;
  font-size: 16px;
}

.searchWrap {
  display: flex;
  align-items: center;
  gap: 10px;
  background: rgba(15, 23, 42, 0.04);
  border: 1px solid rgba(15, 23, 42, 0.08);
  border-radius: 12px;
  padding: 10px 12px;
  max-width: 560px;
}

.searchIcon {
  color: rgba(100, 116, 139, 0.95);
}

.search {
  border: none;
  outline: none;
  background: transparent;
  font-size: 14px;
  width: 100%;
}

.topActions {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 10px;
}

.btnInvite {
  border: 1px solid rgba(15, 23, 42, 0.10);
  background: rgba(15, 23, 42, 0.03);
  border-radius: 12px;
  padding: 10px 14px;
  font-weight: 800;
  cursor: pointer;
}

.btnInvite:hover {
  background: rgba(15, 23, 42, 0.05);
}

.iconBtn {
  width: 38px;
  height: 38px;
  border-radius: 12px;
  border: 1px solid rgba(15, 23, 42, 0.10);
  background: rgba(15, 23, 42, 0.03);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.iconBtn:hover {
  background: rgba(15, 23, 42, 0.05);
}

.iconBtn:disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

.shell {
  flex: 1;
  display: grid;
  grid-template-columns: 280px 1fr;
  min-height: 0;
}

.sidebar {
  background: rgba(255, 255, 255, 0.80);
  border-right: 1px solid rgba(15, 23, 42, 0.08);
  padding: 14px 12px;
}

.nav {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.navItem {
  width: 100%;
  border: 1px solid transparent;
  border-radius: 12px;
  padding: 10px 10px;
  background: transparent;
  cursor: pointer;
  display: grid;
  grid-template-columns: 28px 1fr auto;
  align-items: center;
  gap: 10px;
  text-align: left;
}

.navItem:hover {
  background: rgba(15, 23, 42, 0.04);
}

.navItemActive {
  background: rgba(43, 108, 255, 0.10);
  border-color: rgba(43, 108, 255, 0.20);
}

.navIcon {
  width: 28px;
  height: 28px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(15, 23, 42, 0.06);
  color: rgba(15, 23, 42, 0.80);
}

.navItem:nth-child(1) .navIcon {
  background: rgba(43, 108, 255, 0.14);
  color: #2b6cff;
}

.navItem:nth-child(2) .navIcon {
  background: rgba(245, 158, 11, 0.16);
  color: #f59e0b;
}

.navItem:nth-child(3) .navIcon {
  background: rgba(168, 85, 247, 0.16);
  color: #a855f7;
}

.navItemActive .navIcon {
  background: rgba(43, 108, 255, 0.16);
  color: var(--blue);
}

.navText {
  font-weight: 600;
  font-size: 15px;
  color: rgba(15, 23, 42, 0.92);
}

.navBadge {
  background: var(--blue);
  color: #fff;
  border-radius: 999px;
  padding: 2px 8px;
  font-size: 12px;
  font-weight: 800;
}

.sideSection {
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid rgba(15, 23, 42, 0.08);
}

.sideHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}

.sideTitle {
  font-weight: 800;
  color: rgba(15, 23, 42, 0.85);
}

.groupRow {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px;
  align-items: center;
}

.select {
  border: 1px solid rgba(15, 23, 42, 0.10);
  border-radius: 12px;
  padding: 10px 12px;
  background: #fff;
  font-weight: 700;
  color: rgba(15, 23, 42, 0.85);
}

.linkRow {
  margin-top: 10px;
  width: 100%;
  text-align: left;
  border: 1px solid transparent;
  background: transparent;
  padding: 10px 12px;
  border-radius: 12px;
  cursor: pointer;
  color: rgba(15, 23, 42, 0.86);
  font-weight: 600;
  font-size: 14.5px;
}

.linkRow:hover {
  background: rgba(15, 23, 42, 0.04);
}

.projectItem {
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid rgba(15, 23, 42, 0.08);
  background: rgba(15, 23, 42, 0.02);
  color: rgba(15, 23, 42, 0.80);
  font-weight: 600;
}

.projectList {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.emptyHint {
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px dashed rgba(15, 23, 42, 0.14);
  color: rgba(100, 116, 139, 0.95);
  background: rgba(15, 23, 42, 0.02);
  font-size: 13px;
}

.content {
  padding: 18px 20px 24px;
  overflow: auto;
}

.contentTop {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 14px;
}

.contentTitle {
  font-weight: 900;
  font-size: 22px;
}

.btnPrimary {
  border: 1px solid rgba(43, 108, 255, 0.30);
  background: var(--blue);
  color: #fff;
  border-radius: 12px;
  padding: 10px 14px;
  font-weight: 900;
  cursor: pointer;
}

.btnPrimary:hover {
  background: var(--blue-2);
}

.filtersRow {
  margin-bottom: 14px;
}

.chips {
  display: inline-flex;
  gap: 8px;
  background: rgba(15, 23, 42, 0.03);
  border: 1px solid rgba(15, 23, 42, 0.08);
  border-radius: 12px;
  padding: 4px;
}

.chip {
  border: 1px solid transparent;
  border-radius: 10px;
  padding: 8px 12px;
  background: transparent;
  cursor: pointer;
  font-weight: 800;
  color: rgba(15, 23, 42, 0.85);
}

.chip:hover {
  background: rgba(15, 23, 42, 0.04);
}

.chipActive {
  background: rgba(43, 108, 255, 0.14);
  border-color: rgba(43, 108, 255, 0.22);
  color: var(--blue);
}

.boardGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 14px;
}

.boardCard {
  border: 1px solid rgba(15, 23, 42, 0.10);
  background: #fff;
  border-radius: 14px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  cursor: pointer;
  text-align: left;
  position: relative;
}

.boardCard:hover {
  border-color: rgba(43, 108, 255, 0.22);
  box-shadow: 0 12px 26px rgba(15, 23, 42, 0.08);
}

.cardTop {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 2px 2px 0;
}

.dotsBtn {
  width: 34px;
  height: 34px;
  border-radius: 12px;
  border: 1px solid transparent;
  background: transparent;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: rgba(15, 23, 42, 0.70);
  opacity: 0;
  transform: translateY(-1px);
  transition: opacity 120ms ease, transform 120ms ease, background 120ms ease;
}

.boardCard:hover .dotsBtn {
  opacity: 1;
  transform: translateY(0);
}

.boardCard:focus-within .dotsBtn {
  opacity: 1;
  transform: translateY(0);
}

.dotsBtn:hover {
  background: rgba(15, 23, 42, 0.04);
}

.previewArea {
  height: 110px;
  border-radius: 12px;
  background: rgba(15, 23, 42, 0.04);
  position: relative;
  overflow: hidden;
}

.previewArt {
  position: absolute;
  right: -44px;
  top: -40px;
  width: 210px;
  opacity: 0.98;
}

.previewArt img {
  width: 100%;
  height: auto;
}

.starBtn {
  position: absolute;
  left: 12px;
  bottom: 12px;
  width: 34px;
  height: 34px;
  border-radius: 12px;
  border: 1px solid rgba(15, 23, 42, 0.10);
  background: rgba(255, 255, 255, 0.92);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: rgba(15, 23, 42, 0.72);
  opacity: 0;
  transform: translateY(2px);
  transition: opacity 120ms ease, transform 120ms ease, background 120ms ease, border-color 120ms ease;
}

.boardCard:hover .starBtn {
  opacity: 1;
  transform: translateY(0);
}

.boardCard:focus-within .starBtn {
  opacity: 1;
  transform: translateY(0);
}

.starBtn:hover {
  background: #fff;
  border-color: rgba(15, 23, 42, 0.18);
  color: rgba(15, 23, 42, 0.90);
}

.starBtnActive {
  opacity: 1;
  color: #f59e0b;
  border-color: rgba(245, 158, 11, 0.30);
  background: rgba(245, 158, 11, 0.10);
}

.dropdown {
  position: fixed;
  min-width: 240px;
  background: #fff;
  border: 1px solid rgba(15, 23, 42, 0.12);
  border-radius: 14px;
  box-shadow: 0 20px 60px rgba(15, 23, 42, 0.18);
  padding: 8px;
  z-index: 80;
}

.ddItem {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 10px;
  border-radius: 12px;
  border: 0;
  background: transparent;
  cursor: pointer;
  text-align: left;
  font-weight: 600;
  color: rgba(15, 23, 42, 0.92);
}

.ddItem:hover {
  background: rgba(15, 23, 42, 0.04);
}

.ddDivider {
  height: 1px;
  background: rgba(15, 23, 42, 0.10);
  margin: 6px 8px;
}

.ddDanger {
  color: #ef4444;
}

.ddDanger:hover {
  background: rgba(239, 68, 68, 0.08);
}

.kv {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  padding: 8px 0;
  border-bottom: 1px solid rgba(15, 23, 42, 0.06);
}

.kv span {
  color: rgba(100, 116, 139, 0.95);
  font-size: 13px;
}

.kv b {
  font-size: 13px;
}

.projectPick {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.pickItem {
  width: 100%;
  text-align: left;
  border: 1px solid rgba(15, 23, 42, 0.10);
  border-radius: 12px;
  background: rgba(15, 23, 42, 0.02);
  padding: 10px 12px;
  cursor: pointer;
  font-weight: 600;
}

.pickItem:hover {
  background: rgba(15, 23, 42, 0.04);
}

.modalWide {
  width: min(760px, 100%);
  background: var(--panel);
  border: 1px solid rgba(15, 23, 42, 0.12);
  border-radius: 16px;
  box-shadow: 0 30px 80px rgba(0, 0, 0, 0.28);
  overflow: hidden;
}

.modalHeaderWide {
  padding: 16px 18px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid rgba(15, 23, 42, 0.10);
}

.modalWideBody {
  padding: 22px 22px 18px;
}

.wideInput {
  width: 100%;
  border: 0;
  outline: none;
  font-size: 22px;
  font-weight: 600;
  padding: 12px 4px;
  border-bottom: 1px solid rgba(15, 23, 42, 0.10);
}

.wideHint {
  margin-top: 16px;
  color: rgba(100, 116, 139, 0.95);
  line-height: 1.4;
}

.wideActions {
  margin-top: 22px;
  display: flex;
  gap: 12px;
}

.groupModal {
  width: min(1100px, 100%);
  height: min(760px, calc(100vh - 80px));
  background: var(--panel);
  border: 1px solid rgba(15, 23, 42, 0.12);
  border-radius: 16px;
  box-shadow: 0 30px 80px rgba(0, 0, 0, 0.28);
  overflow: hidden;
  display: grid;
  grid-template-columns: 240px 1fr;
}

.groupModalLeft {
  border-right: 1px solid rgba(15, 23, 42, 0.08);
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.gTab {
  width: 100%;
  border: 1px solid transparent;
  border-radius: 12px;
  padding: 10px 10px;
  background: transparent;
  cursor: pointer;
  display: flex;
  gap: 10px;
  align-items: center;
  font-weight: 600;
  font-size: 15px;
  color: rgba(15, 23, 42, 0.90);
  text-align: left;
}

.gTab:hover {
  background: rgba(15, 23, 42, 0.04);
}

.gTabActive {
  background: rgba(43, 108, 255, 0.10);
  border-color: rgba(43, 108, 255, 0.20);
  color: var(--blue);
}

.groupModalRight {
  padding: 18px 20px 24px;
  overflow: auto;
}

.groupModalTop {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 18px;
}

.groupModalTitle {
  font-size: 18px;
  font-weight: 800;
}

.gBody {
  max-width: 720px;
}

.gSectionTitle {
  font-weight: 800;
  margin-bottom: 10px;
}

.gMuted {
  color: rgba(100, 116, 139, 0.95);
  font-size: 13px;
  line-height: 1.45;
  margin-bottom: 10px;
}

.gMutedSmall {
  color: rgba(100, 116, 139, 0.95);
  font-size: 12px;
  margin-top: 2px;
}

.gDivider {
  height: 1px;
  background: rgba(15, 23, 42, 0.10);
  margin: 18px 0;
}

.btnDanger {
  border: 1px solid rgba(239, 68, 68, 0.35);
  background: transparent;
  color: #ef4444;
  border-radius: 12px;
  padding: 10px 14px;
  font-weight: 900;
  cursor: pointer;
}

.btnDanger:hover {
  background: rgba(239, 68, 68, 0.08);
}

.gRowTop {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 12px;
}

.linkBtn {
  border: 0;
  background: transparent;
  color: var(--blue);
  font-weight: 700;
  cursor: pointer;
}

.linkBtn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.searchMembers {
  margin: 10px 0;
  display: flex;
  align-items: center;
  gap: 10px;
  background: rgba(15, 23, 42, 0.04);
  border: 1px solid rgba(15, 23, 42, 0.08);
  border-radius: 12px;
  padding: 10px 12px;
}

.inviteRow {
  margin-bottom: 12px;
}

.memberTable {
  border-top: 1px solid rgba(15, 23, 42, 0.08);
}

.memberHead {
  display: grid;
  grid-template-columns: 1fr 260px;
  padding: 12px 0;
  color: rgba(100, 116, 139, 0.95);
  font-size: 13px;
}

.memberRow2 {
  display: grid;
  grid-template-columns: 1fr 260px;
  padding: 12px 0;
  border-top: 1px solid rgba(15, 23, 42, 0.06);
  align-items: center;
  gap: 12px;
}

.memberCell {
  display: flex;
  align-items: center;
  gap: 10px;
}

.avatarStub {
  width: 34px;
  height: 34px;
  border-radius: 10px;
  background: rgba(245, 158, 11, 0.22);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  color: rgba(15, 23, 42, 0.85);
}

.memberEmail {
  font-weight: 700;
}

.memberRole {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.rolePill {
  font-size: 12px;
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid rgba(15, 23, 42, 0.10);
  background: rgba(15, 23, 42, 0.03);
  font-weight: 700;
}

.smallBtn {
  border: 1px solid rgba(15, 23, 42, 0.12);
  background: rgba(15, 23, 42, 0.02);
  border-radius: 10px;
  padding: 8px 10px;
  font-weight: 700;
  cursor: pointer;
}

.smallBtnDanger {
  border: 1px solid rgba(239, 68, 68, 0.22);
  background: rgba(239, 68, 68, 0.06);
  border-radius: 10px;
  padding: 8px 10px;
  font-weight: 700;
  cursor: pointer;
  color: #ef4444;
}

.inviteLinkBox {
  display: flex;
  gap: 10px;
  align-items: center;
  margin-bottom: 12px;
}

.reqList {
  margin-top: 12px;
  border-top: 1px solid rgba(15, 23, 42, 0.08);
}

.reqRow {
  padding: 12px 0;
  display: flex;
  justify-content: space-between;
  gap: 12px;
  align-items: center;
  border-top: 1px solid rgba(15, 23, 42, 0.06);
}

.reqActions {
  display: flex;
  gap: 8px;
}

.emptyCenter {
  text-align: center;
  color: rgba(100, 116, 139, 0.95);
  padding: 40px 0;
}

@media (max-width: 980px) {
  .groupModal {
    grid-template-columns: 1fr;
    height: auto;
    max-height: calc(100vh - 80px);
  }
  .groupModalLeft {
    border-right: none;
    border-bottom: 1px solid rgba(15, 23, 42, 0.08);
    flex-direction: row;
    flex-wrap: wrap;
  }
  .memberHead,
  .memberRow2 {
    grid-template-columns: 1fr;
  }
  .memberRole {
    justify-content: flex-start;
  }
}

.boardLeft {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.boardTitle {
  font-weight: 900;
  font-size: 15px;
  color: rgba(15, 23, 42, 0.92);
}

.boardMeta {
  font-size: 12.5px;
  color: rgba(100, 116, 139, 0.95);
}

.metaList {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 0 2px 2px;
}

.boardThumb {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  overflow: hidden;
}

.boardThumb img {
  width: 170px;
  height: auto;
  transform: translateX(36px);
  opacity: 0.95;
}

.loadingState {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 18px 0;
  color: rgba(100, 116, 139, 0.95);
}

.empty {
  padding: 28px 0;
}

.emptyTitle {
  font-weight: 900;
  font-size: 18px;
}

.emptySub {
  margin-top: 6px;
  color: rgba(100, 116, 139, 0.95);
}

.spinner {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* --- Modal --- */
.modalOverlay {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.55);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 18px;
  z-index: 50;
}

.modal {
  width: min(520px, 100%);
  background: var(--panel);
  border: 1px solid rgba(15, 23, 42, 0.12);
  border-radius: 16px;
  box-shadow: 0 30px 80px rgba(0, 0, 0, 0.28);
  overflow: hidden;
}

.modalHeader {
  padding: 12px 14px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid rgba(15, 23, 42, 0.10);
}

.modalTitle {
  font-weight: 900;
}

.modalForm {
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.field {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.fieldLabel {
  font-weight: 800;
  font-size: 12px;
  color: rgba(15, 23, 42, 0.82);
}

.input,
.textarea {
  border: 1px solid rgba(15, 23, 42, 0.12);
  border-radius: 12px;
  padding: 12px;
  font-size: 14px;
  outline: none;
}

.input:focus,
.textarea:focus {
  border-color: rgba(43, 108, 255, 0.40);
  box-shadow: 0 0 0 4px rgba(43, 108, 255, 0.15);
}

.textarea {
  resize: vertical;
}

.modalActions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 4px;
}

.btnGhost {
  border: 1px solid rgba(15, 23, 42, 0.12);
  background: transparent;
  border-radius: 12px;
  padding: 10px 14px;
  font-weight: 900;
  cursor: pointer;
}

.btnGhost:hover {
  background: rgba(15, 23, 42, 0.04);
}

.btnPrimary {
  border: 1px solid rgba(43, 108, 255, 0.30);
  background: var(--blue);
  color: #fff;
  border-radius: 12px;
  padding: 10px 14px;
  font-weight: 900;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.btnPrimary:hover {
  background: var(--blue-2);
}

.btnPrimary:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}

@media (max-width: 980px) {
  .topbar {
    grid-template-columns: 220px 1fr 220px;
  }
  .shell {
    grid-template-columns: 260px 1fr;
  }
}

@media (max-width: 820px) {
  .topbar {
    grid-template-columns: 1fr;
    height: auto;
    row-gap: 10px;
  }
  .searchWrap { max-width: none; }
  .topActions { justify-content: flex-start; }
  .shell {
    grid-template-columns: 1fr;
  }
  .sidebar {
    border-right: none;
    border-bottom: 1px solid rgba(15, 23, 42, 0.08);
  }

  /* Touch targets + readable text */
  .iconBtn {
    width: 44px;
    height: 44px;
  }

  .btnInvite,
  .btnPrimary,
  .btnGhost {
    min-height: 44px;
  }

  .navItem,
  .chip,
  .linkRow,
  .select {
    min-height: 44px;
  }

  .search {
    font-size: 16px;
  }

  .emptyHint,
  .kv span,
  .kv b,
  .boardMeta,
  .fieldLabel {
    font-size: 14px;
  }

  .dotsBtn,
  .starBtn {
    width: 44px;
    height: 44px;
  }
}

/* No-hover devices (phones/tablets): don't hide critical actions behind :hover */
@media (hover: none) {
  .dotsBtn,
  .starBtn {
    opacity: 1;
    transform: translateY(0);
    width: 44px;
    height: 44px;
  }

  .iconBtn {
    width: 44px;
    height: 44px;
  }
}


